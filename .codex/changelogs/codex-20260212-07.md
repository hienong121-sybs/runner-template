# Codex Changelog - 2026-02-12 - #07

## 1) Yêu cầu thay đổi
- [x] Mount thêm runtime files của nginx ra host để dễ kiểm tra, không làm vỡ luồng nghiệp vụ hiện tại.

## 2) Cấu hình/env ảnh hưởng
- Không thêm env mới.
- Bổ sung bind-mount cho nginx runtime:
  - `./.nginx/runtime/conf.d:/etc/nginx/conf.d`
  - `./.nginx/runtime/upstreams:/etc/nginx/upstreams`
  - `./.nginx/runtime/auth:/etc/nginx/auth`

## 3) Tóm tắt thay đổi
- Đã giữ nguyên flow cũ (template input + envsubst + mirror).
- Đã thêm khả năng xem trực tiếp config runtime nginx từ host trong thư mục `./.nginx/runtime`.

## 4) Chi tiết thay đổi
- File:
  - `docker-compose.yml`
  - `README.md`
  - `bugs/shadow-check.md`
  - `CHANGELOG.md`
- Nội dung:
  - `docker-compose.yml`: thêm mount runtime nginx folders ra host.
  - `README.md`: bổ sung hướng dẫn runtime mounts.
  - `bugs/shadow-check.md`: thêm checklist xem file runtime render trên host.
  - `CHANGELOG.md`: ghi nhận mount runtime config mới.

## 5) Git diff trọng tâm
```diff
diff --git a/docker-compose.yml b/docker-compose.yml
@@
       - ./nginx/maps:/etc/nginx/maps:ro
+      - ./.nginx/runtime/conf.d:/etc/nginx/conf.d
+      - ./.nginx/runtime/upstreams:/etc/nginx/upstreams
+      - ./.nginx/runtime/auth:/etc/nginx/auth
       - ./nginx/shadow-servers:/etc/nginx/shadow-servers
```

## 6) Verify đã chạy
- Không chạy test/lint theo yêu cầu.
- Rà thủ công:
  - mount paths không ghi đè vào template inputs (`/etc/nginx/templates/*`)
  - vẫn giữ log mount hiện có `./.nginx/logs:/var/log/nginx`
  - không đổi logic mirror/proxy.

## 7) Commit message đề xuất
```text
chore(nginx): mount runtime config files to host for easier inspection
```
